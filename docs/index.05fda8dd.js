function e(e){return e.multimedia&&e.multimedia.length>0?e.multimedia[0].url:""}function t(t,n,i){n.hasChildNodes()&&n.removeChild(n.firstElementChild);let l=0,a=window.innerWidth;l="popular"===i?a<=425?3:a<=768?5:a<=1024?5:a<=1440?8:12:"latest"===i?8:"world"===i?10:"business"===i?10:"health"===i?10:"sports"===i?10:"science"===i?10:6;for(let a=0;a<l;a++){let l=t[a],c=document.createElement("article"),o=document.createElement("img"),d=document.createElement("div"),r=document.createElement("div"),s=document.createElement("a"),p=document.createElement("p"),m=e(l);d.setAttribute("class","img-div"),r.setAttribute("class","text-div"),s.href=l.url,s.innerHTML=l.title,p.innerHTML=l.byline,"popular"===i?(0===a&&(c.style.width="21rem"),c.appendChild(s),c.appendChild(p)):(m?o.src=m:o.src="https://res.cloudinary.com/dzmhkee5i/image/upload/c_scale,h_75,w_75/nyt-clone/jjyajof6l8qkaprtldxx.jpg",d.appendChild(o),r.appendChild(s),r.appendChild(p),c.appendChild(d),c.appendChild(r)),n.appendChild(c)}}const n="Ef0aMU65A5ibPIMsNga29zLQpCWS1tmW",i=`https://api.nytimes.com/svc/news/v3/content/all/all.json?api-key=${n}`,l=`https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=${n}`,a=`https://api.nytimes.com/svc/topstories/v2/opinion.json?api-key=${n}`,c=document.getElementById("popular-article"),o=document.getElementById("latest-article"),d=document.getElementById("opinion-article"),r=document.getElementById("content-section"),s=document.getElementById("home"),p=document.getElementById("world"),m=document.getElementById("business"),u=document.getElementById("health"),h=document.getElementById("sports"),y=document.getElementById("science");let f=!1;const w={};async function E(e,n,i){try{var l;let a=await fetch(e),c=await a.json();l=c.results,t(l,n,i),w[i]=c.results}catch{g(n)}}async function C(e,t,n){try{(function(e){let t=document.createElement("div");t.innerHTML="Fetching data please wait",e.appendChild(t)})(t),await new Promise(function(e){setTimeout(e,12e3)}),await E(e,t,n)}catch{g(t)}}function g(e){e.innerHTML="";let t=document.createElement("div");t.innerHTML="Error fetching data please reload the page",e.appendChild(t)}function v(e){let t=`https://api.nytimes.com/svc/topstories/v2/${e}.json?api-key=${n}`;r.innerHTML="",r.style.flexDirection="row",r.style.flexWrap="wrap",r.style.justifyContent="center",C(t,r,e)}function L(e,n,i){let l;"main-content"===n?(l=document.getElementById("main-content"))||((l=document.createElement("section")).id="main-content",e.appendChild(l)):(l=document.getElementById("side-content"))||((l=document.createElement("section")).id="side-content",e.appendChild(l));let a=document.createElement("div"),c=document.createElement("main");if("popular"===i){let e=document.createElement("header"),t=document.createElement("p");e.setAttribute("class","header-container"),a.setAttribute("class","popular-content"),c.setAttribute("id","popular-article"),t.innerHTML="Popular Articles",e.appendChild(t),a.appendChild(e)}else if("latest"===i){let e=document.createElement("header"),t=document.createElement("p");e.setAttribute("class","header-container"),a.setAttribute("class","latest-content"),c.setAttribute("id","latest-article"),t.innerHTML="Latest News",e.appendChild(t),a.appendChild(e)}else"opinion"===i&&(a.setAttribute("class","opinion-content"),c.setAttribute("id","opinion-article"));t(w[i],c,i),a.appendChild(c),l.appendChild(a)}(async function(){await C(l,c,"popular"),await C(i,o,"latest"),await C(a,d,"opinion"),f=!0})(),s.addEventListener("click",function(){f?(r.innerHTML="",r.style=null,L(r,"main-content","popular"),L(r,"main-content","latest"),L(r,"side-content","opinion")):window.alert("Not done fetching")}),p.addEventListener("click",function(){f?(r.innerHTML="",r.style.flexDirection="row",r.style.flexWrap="wrap",r.style.justifyContent="center",w.world?t(w.world,r,"world"):v("world")):window.alert("Not done fetching")}),m.addEventListener("click",function(){f?(r.innerHTML="",r.style.flexDirection="row",r.style.flexWrap="wrap",r.style.justifyContent="center",w.business?t(w.business,r,"world"):v("business")):window.alert("Not done fetching")}),u.addEventListener("click",function(){f?(r.innerHTML="",r.style.flexDirection="row",r.style.flexWrap="wrap",r.style.justifyContent="center",w.health?t(w.health,r,"world"):v("health")):window.alert("Not done fetching")}),h.addEventListener("click",function(){f?(r.innerHTML="",r.style.flexDirection="row",r.style.flexWrap="wrap",r.style.justifyContent="center",w.sports?t(w.sports,r,"world"):v("sports")):window.alert("Not done fetching")}),y.addEventListener("click",function(){f?(r.innerHTML="",r.style.flexDirection="row",r.style.flexWrap="wrap",r.style.justifyContent="center",w.science?t(w.science,r,"world"):v("science")):window.alert("Not done fetching")}),window.addEventListener("resize",function(){let t=document.getElementById("popular-article");!function(t,n,i){let l=window.innerWidth,a=n.children.length,c=0,o=[{size:425,articleNum:3},{size:768,articleNum:5},{size:1024,articleNum:5},{size:1440,articleNume:8}];for(let e in o){let t=o[e].size,n=o[e].articleNum;if(l<=t){c=n;break}}if(a<c)for(let l=a;l<c;l++){let a=t[l],c=document.createElement("article"),o=document.createElement("div"),d=document.createElement("div"),r=document.createElement("img"),s=document.createElement("a"),p=document.createElement("p"),m=e(a);o.setAttribute("class","img-div"),d.setAttribute("class","text-div"),s.href=a.url,s.innerHTML=a.title,p.innerHTML=a.byline,"popular"===i?(c.appendChild(s),c.appendChild(p)):(m?r.src=m:r.src="https://res.cloudinary.com/dzmhkee5i/image/upload/c_scale,h_75,w_75/nyt-clone/jjyajof6l8qkaprtldxx.jpg",o.appendChild(r),d.appendChild(s),d.appendChild(p),c.appendChild(o),c.appendChild(d)),n.appendChild(c)}else if(a>c)for(;a>c;)n.lastChild.remove(),a--}(w.popular,t,"popular")});
//# sourceMappingURL=index.05fda8dd.js.map
